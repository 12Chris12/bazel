---
layout: documentation
title: attr
---
<h1 id="modules.attr">attr</h1>

Module for creating new attributes. They are only for use with the <a href="globals.html#rule">rule</a> function.

<div class="toc">
  <h2>Methods</h2>
  <ul>
          <li><a href="#bool">bool</a></li>
              <li><a href="#int">int</a></li>
              <li><a href="#int_list">int_list</a></li>
              <li><a href="#label">label</a></li>
              <li><a href="#label_list">label_list</a></li>
              <li><a href="#license">license</a></li>
              <li><a href="#output">output</a></li>
              <li><a href="#output_list">output_list</a></li>
              <li><a href="#string">string</a></li>
              <li><a href="#string_dict">string_dict</a></li>
              <li><a href="#string_list">string_list</a></li>
              <li><a href="#string_list_dict">string_list_dict</a></li>
        </ul>
</div>

      <h2 id="bool">bool</h2>
        <p><pre>Descriptor attr.bool(default=False, mandatory=False)
</pre></p>

    Creates an attribute of type bool.

          <h3>Parameters</h3>
      <table class="table table-bordered table-condensed table-params">
        <colgroup>
          <col class="col-param">
          <col class="param-description">
        </colgroup>
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
                  <tr>
            <td id="bool.default">
              <code>default</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>the default value of the attribute.</p>
            </td>
          </tr>
                  <tr>
            <td id="bool.mandatory">
              <code>mandatory</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>True if the value must be explicitly specified</p>
            </td>
          </tr>
                </tbody>
      </table>

        <h2 id="int">int</h2>
        <p><pre>Descriptor attr.int(default=0, mandatory=False, values=[])
</pre></p>

    Creates an attribute of type int.

          <h3>Parameters</h3>
      <table class="table table-bordered table-condensed table-params">
        <colgroup>
          <col class="col-param">
          <col class="param-description">
        </colgroup>
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
                  <tr>
            <td id="int.default">
              <code>default</code>
            </td>
            <td>
                          <p><code>int</code></p>
                          <p>the default value of the attribute.</p>
            </td>
          </tr>
                  <tr>
            <td id="int.mandatory">
              <code>mandatory</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>True if the value must be explicitly specified</p>
            </td>
          </tr>
                  <tr>
            <td id="int.values">
              <code>values</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="list.html">sequence</a> of ints</code></p>
                          <p>the list of allowed values for the attribute. An error is raised if any other value is given.</p>
            </td>
          </tr>
                </tbody>
      </table>

        <h2 id="int_list">int_list</h2>
        <p><pre>Descriptor attr.int_list(default=[], mandatory=False, non_empty=False)
</pre></p>

    Creates an attribute which is a <a href="list.html">list</a> of ints

          <h3>Parameters</h3>
      <table class="table table-bordered table-condensed table-params">
        <colgroup>
          <col class="col-param">
          <col class="param-description">
        </colgroup>
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
                  <tr>
            <td id="int_list.default">
              <code>default</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="list.html">sequence</a> of ints</code></p>
                          <p>the default value of the attribute.</p>
            </td>
          </tr>
                  <tr>
            <td id="int_list.mandatory">
              <code>mandatory</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>True if the value must be explicitly specified</p>
            </td>
          </tr>
                  <tr>
            <td id="int_list.non_empty">
              <code>non_empty</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>True if the attribute must not be empty</p>
            </td>
          </tr>
                </tbody>
      </table>

        <h2 id="label">label</h2>
        <p><pre>Descriptor attr.label(default=None, executable=False, allow_files=False, mandatory=False, providers=[], allow_rules=None, single_file=False, cfg=None)
</pre></p>

    Creates an attribute of type <a href="Target.html">Target</a> which is the target referred to by the label. It is the only way to specify a dependency to another target. If you need a dependency that the user cannot overwrite, <a href="../rules.html#private-attributes">make the attribute private</a>.

          <h3>Parameters</h3>
      <table class="table table-bordered table-condensed table-params">
        <colgroup>
          <col class="col-param">
          <col class="param-description">
        </colgroup>
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
                  <tr>
            <td id="label.default">
              <code>default</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="Label.html">Label</a></code></p>
                          <p>the default value of the attribute. Use the <a href="globals.html#Label"><code>Label</code></a> function to specify a default value ex:</p><code>attr.label(default = Label("//a:b"))</code></p>
            </td>
          </tr>
                  <tr>
            <td id="label.executable">
              <code>executable</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>True if the labels have to be executable. This means the label must refer to an executable file, or to a rule that outputs an executable file. Access the labels with <code>ctx.executable.&lt;attribute_name&gt;</code>.</p>
            </td>
          </tr>
                  <tr>
            <td id="label.allow_files">
              <code>allow_files</code>
            </td>
            <td>
                          <p>whether File targets are allowed. Can be True, False (default), or a list of file extensions that are allowed (e.g. <code>[".cc", ".cpp"]</code>).</p>
            </td>
          </tr>
                  <tr>
            <td id="label.mandatory">
              <code>mandatory</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>True if the value must be explicitly specified</p>
            </td>
          </tr>
                  <tr>
            <td id="label.providers">
              <code>providers</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="list.html">sequence</a></code></p>
                          <p>mandatory providers list. It should be either a list of providers, or a list of lists of providers. Every dependency should provide ALL providers from at least ONE of these lists. A single list of providers will be automatically converted to a list containing one list of providers.</p>
            </td>
          </tr>
                  <tr>
            <td id="label.allow_rules">
              <code>allow_rules</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="list.html">sequence</a> of <a class="anchor" href="string.html">string</a>s</code></p>
                          <p>which rule targets (name of the classes) are allowed. This is deprecated (kept only for compatiblity), use providers instead.</p>
            </td>
          </tr>
                  <tr>
            <td id="label.single_file">
              <code>single_file</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>if True, the label must correspond to a single <a href="file.html">File</a>. Access it through <code>ctx.file.&lt;attribute_name&gt;</code>.</p>
            </td>
          </tr>
                  <tr>
            <td id="label.cfg">
              <code>cfg</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="ConfigurationTransition.html">ConfigurationTransition</a></code></p>
                          <p>configuration of the attribute. For example, use DATA_CFG or HOST_CFG.</p>
            </td>
          </tr>
                </tbody>
      </table>

        <h2 id="label_list">label_list</h2>
        <p><pre>Descriptor attr.label_list(default=[], allow_files=False, allow_rules=None, providers=[], flags=[], mandatory=False, non_empty=False, cfg=None, aspects=[])
</pre></p>

    Creates an attribute which is a <a href="list.html">list</a> of type <a href="Target.html">Target</a> which are specified by the labels in the list. See <a href="attr.html#label">label</a> for more information.

          <h3>Parameters</h3>
      <table class="table table-bordered table-condensed table-params">
        <colgroup>
          <col class="col-param">
          <col class="param-description">
        </colgroup>
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
                  <tr>
            <td id="label_list.default">
              <code>default</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="list.html">sequence</a> of <a class="anchor" href="Label.html">Label</a>s</code></p>
                          <p>the default value of the attribute. Use the <a href="globals.html#Label"><code>Label</code></a> function to specify default values ex:</p><code>attr.label_list(default = [ Label("//a:b"), Label("//a:c") ])</code></p>
            </td>
          </tr>
                  <tr>
            <td id="label_list.allow_files">
              <code>allow_files</code>
            </td>
            <td>
                          <p>whether File targets are allowed. Can be True, False (default), or a list of file extensions that are allowed (e.g. <code>[".cc", ".cpp"]</code>).</p>
            </td>
          </tr>
                  <tr>
            <td id="label_list.allow_rules">
              <code>allow_rules</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="list.html">sequence</a> of <a class="anchor" href="string.html">string</a>s</code></p>
                          <p>which rule targets (name of the classes) are allowed. This is deprecated (kept only for compatiblity), use providers instead.</p>
            </td>
          </tr>
                  <tr>
            <td id="label_list.providers">
              <code>providers</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="list.html">sequence</a></code></p>
                          <p>mandatory providers list. It should be either a list of providers, or a list of lists of providers. Every dependency should provide ALL providers from at least ONE of these lists. A single list of providers will be automatically converted to a list containing one list of providers.</p>
            </td>
          </tr>
                  <tr>
            <td id="label_list.flags">
              <code>flags</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="list.html">sequence</a> of <a class="anchor" href="string.html">string</a>s</code></p>
                          <p>deprecated, will be removed</p>
            </td>
          </tr>
                  <tr>
            <td id="label_list.mandatory">
              <code>mandatory</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>True if the value must be explicitly specified</p>
            </td>
          </tr>
                  <tr>
            <td id="label_list.non_empty">
              <code>non_empty</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>True if the attribute must not be empty</p>
            </td>
          </tr>
                  <tr>
            <td id="label_list.cfg">
              <code>cfg</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="ConfigurationTransition.html">ConfigurationTransition</a></code></p>
                          <p>configuration of the attribute. For example, use DATA_CFG or HOST_CFG.</p>
            </td>
          </tr>
                  <tr>
            <td id="label_list.aspects">
              <code>aspects</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="list.html">sequence</a> of <a class="anchor" href="aspect.html">aspect</a>s</code></p>
                          <p>aspects that should be applied to dependencies specified by this attribute</p>
            </td>
          </tr>
                </tbody>
      </table>

        <h2 id="license">license</h2>
        <p><pre>Descriptor attr.license(default=None, mandatory=False)
</pre></p>

    Creates an attribute of type license.

          <h3>Parameters</h3>
      <table class="table table-bordered table-condensed table-params">
        <colgroup>
          <col class="col-param">
          <col class="param-description">
        </colgroup>
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
                  <tr>
            <td id="license.default">
              <code>default</code>
            </td>
            <td>
                          <p>the default value of the attribute.</p>
            </td>
          </tr>
                  <tr>
            <td id="license.mandatory">
              <code>mandatory</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>True if the value must be explicitly specified</p>
            </td>
          </tr>
                </tbody>
      </table>

        <h2 id="output">output</h2>
        <p><pre>Descriptor attr.output(default=None, mandatory=False)
</pre></p>

    Creates an attribute of type output. The user provides a file name (string) and the rule must create an action that generates the file.

          <h3>Parameters</h3>
      <table class="table table-bordered table-condensed table-params">
        <colgroup>
          <col class="col-param">
          <col class="param-description">
        </colgroup>
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
                  <tr>
            <td id="output.default">
              <code>default</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="Label.html">Label</a></code></p>
                          <p>the default value of the attribute.</p>
            </td>
          </tr>
                  <tr>
            <td id="output.mandatory">
              <code>mandatory</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>True if the value must be explicitly specified</p>
            </td>
          </tr>
                </tbody>
      </table>

        <h2 id="output_list">output_list</h2>
        <p><pre>Descriptor attr.output_list(default=[], mandatory=False, non_empty=False)
</pre></p>

    Creates an attribute which is a <a href="list.html">list</a> of outputs. See <a href="attr.html#output">output</a> for more information.

          <h3>Parameters</h3>
      <table class="table table-bordered table-condensed table-params">
        <colgroup>
          <col class="col-param">
          <col class="param-description">
        </colgroup>
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
                  <tr>
            <td id="output_list.default">
              <code>default</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="list.html">sequence</a> of <a class="anchor" href="Label.html">Label</a>s</code></p>
                          <p>the default value of the attribute.</p>
            </td>
          </tr>
                  <tr>
            <td id="output_list.mandatory">
              <code>mandatory</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>True if the value must be explicitly specified</p>
            </td>
          </tr>
                  <tr>
            <td id="output_list.non_empty">
              <code>non_empty</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>True if the attribute must not be empty</p>
            </td>
          </tr>
                </tbody>
      </table>

        <h2 id="string">string</h2>
        <p><pre>Descriptor attr.string(default='', mandatory=False, values=[])
</pre></p>

    Creates an attribute of type <a href="string.html">string</a>.

          <h3>Parameters</h3>
      <table class="table table-bordered table-condensed table-params">
        <colgroup>
          <col class="col-param">
          <col class="param-description">
        </colgroup>
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
                  <tr>
            <td id="string.default">
              <code>default</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="string.html">string</a></code></p>
                          <p>the default value of the attribute.</p>
            </td>
          </tr>
                  <tr>
            <td id="string.mandatory">
              <code>mandatory</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>True if the value must be explicitly specified</p>
            </td>
          </tr>
                  <tr>
            <td id="string.values">
              <code>values</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="list.html">sequence</a> of <a class="anchor" href="string.html">string</a>s</code></p>
                          <p>the list of allowed values for the attribute. An error is raised if any other value is given.</p>
            </td>
          </tr>
                </tbody>
      </table>

        <h2 id="string_dict">string_dict</h2>
        <p><pre>Descriptor attr.string_dict(default={}, mandatory=False, non_empty=False)
</pre></p>

    Creates an attribute of type <a href="dict.html">dict</a>, mapping from <a href="string.html">string</a> to <a href="string.html">string</a>.

          <h3>Parameters</h3>
      <table class="table table-bordered table-condensed table-params">
        <colgroup>
          <col class="col-param">
          <col class="param-description">
        </colgroup>
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
                  <tr>
            <td id="string_dict.default">
              <code>default</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="dict.html">dict</a></code></p>
                          <p>the default value of the attribute.</p>
            </td>
          </tr>
                  <tr>
            <td id="string_dict.mandatory">
              <code>mandatory</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>True if the value must be explicitly specified</p>
            </td>
          </tr>
                  <tr>
            <td id="string_dict.non_empty">
              <code>non_empty</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>True if the attribute must not be empty</p>
            </td>
          </tr>
                </tbody>
      </table>

        <h2 id="string_list">string_list</h2>
        <p><pre>Descriptor attr.string_list(default=[], mandatory=False, non_empty=False)
</pre></p>

    Creates an attribute which is a <a href="list.html">list</a> of <a href="string.html">strings</a>.

          <h3>Parameters</h3>
      <table class="table table-bordered table-condensed table-params">
        <colgroup>
          <col class="col-param">
          <col class="param-description">
        </colgroup>
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
                  <tr>
            <td id="string_list.default">
              <code>default</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="list.html">sequence</a> of <a class="anchor" href="string.html">string</a>s</code></p>
                          <p>the default value of the attribute.</p>
            </td>
          </tr>
                  <tr>
            <td id="string_list.mandatory">
              <code>mandatory</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>True if the value must be explicitly specified</p>
            </td>
          </tr>
                  <tr>
            <td id="string_list.non_empty">
              <code>non_empty</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>True if the attribute must not be empty</p>
            </td>
          </tr>
                </tbody>
      </table>

        <h2 id="string_list_dict">string_list_dict</h2>
        <p><pre>Descriptor attr.string_list_dict(default={}, mandatory=False, non_empty=False)
</pre></p>

    Creates an attribute of type <a href="dict.html">dict</a>, mapping from <a href="string.html">string</a> to <a href="list.html">list</a> of <a href="string.html">string</a>.

          <h3>Parameters</h3>
      <table class="table table-bordered table-condensed table-params">
        <colgroup>
          <col class="col-param">
          <col class="param-description">
        </colgroup>
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
                  <tr>
            <td id="string_list_dict.default">
              <code>default</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="dict.html">dict</a></code></p>
                          <p>the default value of the attribute.</p>
            </td>
          </tr>
                  <tr>
            <td id="string_list_dict.mandatory">
              <code>mandatory</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>True if the value must be explicitly specified</p>
            </td>
          </tr>
                  <tr>
            <td id="string_list_dict.non_empty">
              <code>non_empty</code>
            </td>
            <td>
                          <p><code><a class="anchor" href="globals.html#bool">bool</a></code></p>
                          <p>True if the attribute must not be empty</p>
            </td>
          </tr>
                </tbody>
      </table>


